{
	"name": "get_passengers_dataflow",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "eal_ac_passengers_by_Id",
						"type": "DatasetReference"
					},
					"name": "JsonFile"
				}
			],
			"sinks": [],
			"transformations": [
				{
					"name": "Flatten1"
				}
			],
			"script": "source(output(\n\t\tPassengers as (AdditionalTravelDocument1 as (AuthenticationResult as boolean, AuthenticationRiskFactor as boolean, DocCode as string, DocIssue as string, DocNo as string, FirstName as string, ID as string, InfraredImage as string, LastName as string, MiddleName as string, OwnerID as string, OwnerType as short, SeqNo as short, TypeID as boolean, UltravioletImage as string, WhiteLightImage as string), AdditionalTravelDocument2 as (AuthenticationResult as boolean, AuthenticationRiskFactor as boolean, DocCode as string, DocIssue as string, DocNo as string, FirstName as string, ID as string, InfraredImage as string, LastName as string, MiddleName as string, OwnerID as string, OwnerType as short, SeqNo as short, TypeID as boolean, UltravioletImage as string, WhiteLightImage as string), ApisComplete as boolean, BCBP as string, BP as boolean, BT as boolean, BTPs as string[], BagCount as short, Bags as (BagNo as integer, BagTagPrefix as short, BagType as (AutoGenerateBagTagNo as boolean, CanPrint as boolean, DefaultAverageWeight as double, HasBagTagNo as boolean, IsActive as boolean, IsCheckedBag as boolean, IsDefault as boolean, IsOversized as boolean, IsSystem as boolean, Type as string, WeightUnitKgs as boolean), CreatedLocation as boolean, ExcessWeight as double, ID as string, IsActivated as boolean, IsBsmSent as boolean, IsDamaged as boolean, IsDeleted as boolean, IsExcess as boolean, IsGateCheck as boolean, IsHeavy as boolean, IsOversized as boolean, IsPrePaid as boolean, IsPrinted as boolean, OverrideStatus as boolean, PaxID as string, PieceNo as short, Remarks as string, Type as string, Weight as double)[], BoardStatus as string, BoardStatusRequirements as string, BookingNo as string, BpFirstName as string, BpIssueLocation as boolean, BpIssueTimestamp as string, BpLastName as string, BpPrintCount as short, CP as string, CheckInGroup as string, CheckInLocation as boolean, CheckInTimestamp as string, CheckInUsername as string, CheckedIn as boolean, Clearance as string, DOB as string, Destination as string, DestinationAddress as (City as string, CountryCode as string, ID as string, Location as string, PostalCode as integer, StateCode as string, Street1 as string, Street2 as string), DestinationAirportCity as string, Email as string, ExternalID as string, FacePhoto as string, FareClass as boolean, FirstName as string, FlightID as string, FlightSegmentNo as boolean, FreqFlyerCarrierCode as string, FreqFlyerNo as string, FreqFlyerStatus as string, Gender as string, HasUnpaidAncillaryCharges as boolean, HealthCheckRemarks as string, HealthCheckStatus as boolean, HomeAddress as (City as string, CountryCode as string, ID as string, Location as string, PostalCode as string, StateCode as string, Street1 as string, Street2 as string), ID as string, InTransit as boolean, IsContactTracingSent as boolean, IsDeleted as boolean, IsPnrLead as boolean, IsRemoteCheckInAllowed as boolean, LastName as string, MiddleName as string, Nationality as string, NotificationOption as boolean, OB as boolean, OBTimeStamp as string, OfacCode as string, OfacID as string, OntoFlight1 as (CarrierCode as string, DestinationIATA as string, FlightNo as string, OriginIATA as string), OntoFlight2 as (CarrierCode as string, DestinationIATA as string, FlightNo as string, OriginIATA as string), Origin as string, PNR as string, PnlFirstName as string, PnlGroupID as string, PnlLastName as string, PnlName as string, PnlReservation as string, PnlSeat as string, RedressNo as string, Remarks as string, Residence as string, ReturnFlightNo as string, SSR as string, ScreeningRemarks as string, ScreeningStatus as boolean, Seat as string, SeatingZone as string, SecurityNo as string, SecurityRules as (ApplicationRecipientID as string, BatchClearance as boolean, BatchDestinationAddressCondition as boolean, BatchOrigDest as boolean, BatchPNR as boolean, BatchSubmission as boolean, BatchTriggerHours as short, BatchValidation as boolean, CheckinClearance as boolean, CheckinDOB as boolean, CheckinDestinationAddress as boolean, CheckinDestinationAddressCondition as boolean, CheckinGender as boolean, CheckinNationality as boolean, CheckinOrigDest as boolean, CheckinPNR as boolean, CheckinResidence as boolean, CheckinTravelDoc as boolean, CommonAccessReference as string, CountryEntity as string, FlightAdd as boolean, FlightCancel as boolean, FlightChange as boolean, FlightPostDepartureCloseout as boolean, FlightPostDepartureCloseoutOnBoard as boolean, FlightPreDepartureCloseout as boolean, FlightRouting as boolean, FlightType as short, GatePass as boolean, HasFlightCloseoutRequirement as boolean, InteractiveComms as boolean, InterchangeRecipientID as string, OutageVettingStatus as boolean, PaxAdd as boolean, PaxCancel as boolean, PaxChange as boolean, PaxTransfer as boolean, PaxVerifiedID as boolean, RequireSecurityClearance as boolean, WatchlistVet as short)[], SecurityTransactions as (BoardStatus as string, CountryEntity as string, ID as string, Instructions as string, IsUnsolicitedMessageResponse as boolean, IsWarnBoardStatus as boolean, OverridenBy as string, PaxID as string, Source as string, TimestampUTC as string, TravelDocumentResponse as (CountryEntity as string, Description as string, DisplayCode as string, Instructions as string, IsClearToBoard as boolean, IsOutageResponse as boolean, IsWarning as boolean, ResponseCode as string), TravelDocumentResponseCode as string, VettingResponse as (CountryEntity as string, Description as string, DisplayCode as string, Instructions as string, IsClearToBoard as boolean, IsOutageResponse as boolean, IsWarnResponse as boolean, ResponseCode as short, VettingStatus as string), VettingResponseCode as short)[], SeqNo as short, Signature as string, Telephone as string, Telephone2 as string, TicketCurrencyCode as string, TicketNo as string, TourOperator as string, TravelCategoryCode as string, TravelCategoryID as string, TravelDocument1 as (AuthenticationResult as boolean, AuthenticationRiskFactor as boolean, DocCode as string, DocExpiry as string, DocIssue as string, DocNo as string, FirstName as string, ID as string, InfraredImage as string, LastName as string, MiddleName as string, OwnerID as string, OwnerType as short, SeqNo as boolean, TravelDocumentType as (DefaultDocNo as string, DocCode as string, DocName as string, HasExpiryDate as boolean, HasIssueCountry as boolean, HasNo as boolean, ID as short, IsActive as boolean, IsApiAuthorized as boolean, IsSystem as boolean, IssueCountry as string, Remarks as string, ReportOnCrewManifest as boolean, ReportOnGatePass as boolean, ReportOnMasterCrewList as boolean, ReportOnPassengerManifest as boolean, SecondaryDocID as boolean), TypeID as short, UltravioletImage as string, WhiteLightImage as string), TravelDocument2 as (AuthenticationResult as boolean, AuthenticationRiskFactor as boolean, DocCode as string, DocExpiry as string, DocIssue as string, DocNo as string, FirstName as string, ID as string, InfraredImage as string, LastName as string, MiddleName as string, OwnerID as string, OwnerType as short, SeqNo as short, TravelDocumentType as (DefaultDocNo as string, DocCode as string, DocName as string, HasExpiryDate as boolean, HasIssueCountry as boolean, HasNo as boolean, ID as short, IsActive as boolean, IsApiAuthorized as boolean, IsSystem as boolean, IssueCountry as string, Remarks as string, ReportOnCrewManifest as boolean, ReportOnGatePass as boolean, ReportOnMasterCrewList as boolean, ReportOnPassengerManifest as boolean, SecondaryDocID as boolean), TypeID as short, UltravioletImage as string, WhiteLightImage as string), TravelerNo as string, TsaPreCheckSignature as string, Type as short, UID as string, Verified as boolean, VettingStatus as short, Weight as boolean)[],\n\t\tSuccess as boolean\n\t),\n\tallowSchemaDrift: true,\n\tvalidateSchema: false,\n\tignoreNoFilesFound: false,\n\tdocumentForm: 'documentPerLine') ~> JsonFile\nJsonFile foldDown(unroll(Passengers),\n\tmapColumn(\n\t\tAPIS_CMPL = Passengers.ApisComplete,\n\t\tBCBP = Passengers.BCBP,\n\t\tBP = Passengers.BP,\n\t\tBT = Passengers.BT,\n\t\tBTPS = Passengers.BTPs,\n\t\tBAG_CNT = Passengers.BagCount,\n\t\tBRD_STS = Passengers.BoardStatus,\n\t\tBRD_STS_REQT = Passengers.BoardStatusRequirements,\n\t\tBOOKG_NO = Passengers.BookingNo,\n\t\tBP_FNAME = Passengers.BpFirstName,\n\t\tBP_ISS_LCTN = Passengers.BpIssueLocation,\n\t\tBP_ISS_TIME_STMP = Passengers.BpIssueTimestamp,\n\t\tBP_LNAME = Passengers.BpLastName,\n\t\tBP_PRT_CNT = Passengers.BpPrintCount,\n\t\tCP = Passengers.CP,\n\t\tCHK_IN_GRP = Passengers.CheckInGroup,\n\t\tCHK_IN_LCTN = Passengers.CheckInLocation,\n\t\tCHK_IN_TIME_STMP = Passengers.CheckInTimestamp,\n\t\tCHK_IN_USERNAME = Passengers.CheckInUsername,\n\t\tCHKD_IN = Passengers.CheckedIn,\n\t\tCLRNC = Passengers.Clearance,\n\t\tDOB = Passengers.DOB,\n\t\tDEST = Passengers.Destination,\n\t\tDEST_AIRPORT_CITY = Passengers.DestinationAirportCity,\n\t\tEMAIL = Passengers.Email,\n\t\tEXTRNL_ID = Passengers.ExternalID,\n\t\tFACE_PHOTO = Passengers.FacePhoto,\n\t\tFARE_CLASS = Passengers.FareClass,\n\t\tFNAME = Passengers.FirstName,\n\t\tFLT_ID = Passengers.FlightID,\n\t\tFLT_SEG_NO = Passengers.FlightSegmentNo,\n\t\tFREQ_FLYR_CARR_CD = Passengers.FreqFlyerCarrierCode,\n\t\tFREQ_FLYR_NO = Passengers.FreqFlyerNo,\n\t\tFREQ_FLYR_STS = Passengers.FreqFlyerStatus,\n\t\tGNDR = Passengers.Gender,\n\t\tHAS_UNPAID_ANCLRY_CHRG = Passengers.HasUnpaidAncillaryCharges,\n\t\tHLTH_CHK_RMRK = Passengers.HealthCheckRemarks,\n\t\tHLTH_CHK_STS = Passengers.HealthCheckStatus,\n\t\tID = Passengers.ID,\n\t\tIN_TRNST = Passengers.InTransit,\n\t\tIS_CNTCT_TRACG_SENT = Passengers.IsContactTracingSent,\n\t\tIS_DELD = Passengers.IsDeleted,\n\t\tIS_PNR_LEAD = Passengers.IsPnrLead,\n\t\tIS_RMOTE_CHK_IN_ALWD = Passengers.IsRemoteCheckInAllowed,\n\t\tLNAME = Passengers.LastName,\n\t\tMNAME = Passengers.MiddleName,\n\t\tNTNALTY = Passengers.Nationality,\n\t\tNTFCN_OPT = Passengers.NotificationOption,\n\t\tOB = Passengers.OB,\n\t\tOB_TIME_STMP = Passengers.OBTimeStamp,\n\t\tOFAC_CD = Passengers.OfacCode,\n\t\tOFAC_ID = Passengers.OfacID,\n\t\tORIG = Passengers.Origin,\n\t\tPNR = Passengers.PNR,\n\t\tPNL_FNAME = Passengers.PnlFirstName,\n\t\tPNL_GRP_ID = Passengers.PnlGroupID,\n\t\tPNL_LNAME = Passengers.PnlLastName,\n\t\tPNL_NAME = Passengers.PnlName,\n\t\tPNL_RSVRTN = Passengers.PnlReservation,\n\t\tPNL_ST = Passengers.PnlSeat,\n\t\tRDRS_NO = Passengers.RedressNo,\n\t\tRMRK = Passengers.Remarks,\n\t\tRSDNC = Passengers.Residence,\n\t\tRTN_FLT_NO = Passengers.ReturnFlightNo,\n\t\tSSR = Passengers.SSR,\n\t\tSCRNG_RMRK = Passengers.ScreeningRemarks,\n\t\tSCRN_STS = Passengers.ScreeningStatus,\n\t\tST = Passengers.Seat,\n\t\tSTNG_ZONE = Passengers.SeatingZone,\n\t\tSCRTY_NO = Passengers.SecurityNo,\n\t\tSEQ_NO = Passengers.SeqNo,\n\t\tSIGNTR = Passengers.Signature,\n\t\tTEL = Passengers.Telephone,\n\t\tTEL_2 = Passengers.Telephone2,\n\t\tTKT_CRNCY_CD = Passengers.TicketCurrencyCode,\n\t\tTKT_NO = Passengers.TicketNo,\n\t\tTOUR_OPR = Passengers.TourOperator,\n\t\tTRVL_CTGRY_CD = Passengers.TravelCategoryCode,\n\t\tTRVL_CTGRY_ID = Passengers.TravelCategoryID,\n\t\tTRVLR_NO = Passengers.TravelerNo,\n\t\tTSA_PRE_CHK_SIGNTR = Passengers.TsaPreCheckSignature,\n\t\tTYPE = Passengers.Type,\n\t\tUID = Passengers.UID,\n\t\tVERFD = Passengers.Verified,\n\t\tVTNG_STS = Passengers.VettingStatus,\n\t\tWGT = Passengers.Weight\n\t),\n\tskipDuplicateMapInputs: false,\n\tskipDuplicateMapOutputs: false) ~> Flatten1"
		}
	}
}