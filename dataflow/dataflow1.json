{
	"name": "dataflow1",
	"properties": {
		"type": "MappingDataFlow",
		"typeProperties": {
			"sources": [
				{
					"dataset": {
						"referenceName": "eal_ac_active_flights",
						"type": "DatasetReference"
					},
					"name": "ActiveFlights"
				}
			],
			"sinks": [],
			"transformations": [
				{
					"name": "Flatten1"
				},
				{
					"name": "SelectJSON"
				},
				{
					"name": "Flatten2"
				},
				{
					"name": "Select1"
				},
				{
					"name": "Flatten3"
				}
			],
			"script": "source(output(\n\t\tFlights as (AircraftCapacity as short, AncillaryTemplateID as string, ArrivalGate as string, ArrivalTerminal as string, BatchCrewMemberMask as string, BatchPassengerMask as string, BoardingTime as string, BookedPassengersCount as short, CancelledBy as string, CancelledReason as string, Carrier as (Address as (City as string, CountryCode as string, ID as string, Location as string, PostalCode as short, StateCode as string, Street1 as string, Street2 as string), ApisCarrierCode as double, ApisContactName as string, ApisFax as string, ApisSenderID as string, ApisTelephone as string, CarrierName as string, Code as double, DefaultAdultAge as short, DefaultChildAge as short, Email as string, EmailSenderAddress as string, EmergencySeatGateStopInstructions as string, IATA as double, ICAO as string, Icon as string, IsPrintingBagTagWithoutCheckInAllowed as boolean, Logo as string, MaximumPassengerBags as short, PnlImportCloseTime as short, Prefix as short, SelecteeGateStopInstructions as string, TsaPreCheck as boolean, UnverifiedDocumentsGateStopInstructions as string, WatchlistNoFlyMatchInstructions as string, WatchlistPreventMatchInstructions as string, WatchlistSelecteeMatchInstructions as string, Website as string), CarrierCode as double, CrewFlightPostDepartureCloseOutStatus as string, CrewFlightPreDepartureCloseOutStatus as string, CrewMemberSecurityRules as (ApplicationRecipientID as string, BatchContactDetails as boolean, BatchDestinationAddressCondition as boolean, BatchSubmission as boolean, BatchTriggerHours as boolean, BatchValidation as boolean, BuildFcmFromMclOnly as boolean, CheckinBirthPlace as boolean, CheckinClearance as boolean, CheckinContactDetails as boolean, CheckinDOB as boolean, CheckinDestinationAddress as boolean, CheckinDestinationAddressCondition as boolean, CheckinGender as boolean, CheckinHomeAddress as boolean, CheckinNationality as boolean, CheckinOrigDest as boolean, CheckinResidence as boolean, CheckinStatusOnBoard as boolean, CheckinTravelDoc as boolean, CommonAccessReference as string, CountryEntity as string, CrewAdd as boolean, CrewCancel as boolean, CrewChange as boolean, FlightAdd as boolean, FlightCancel as boolean, FlightChange as boolean, FlightPostDepartureCloseout as boolean, FlightPostDepartureCloseoutOnBoard as boolean, FlightPreDepartureCloseout as boolean, FlightRouting as short, FlightType as short, HasFlightCloseoutRequirement as boolean, InteractiveComms as boolean, InterchangeRecipientID as string, OutageVettingStatus as boolean, RequireSecurityClearance as boolean, WatchlistVet as boolean)[], CustomerID as string, DepartureGate as string, DepartureTerminal as string, DestinationAirportCity as string, DestinationAirportCountryCode as string, DestinationAirportName as string, DestinationIATA as string, DestinationICAO as string, EnableBoarding as boolean, EnableCrewAPIS as boolean, EnableDCS as boolean, EnablePassengerAPIS as boolean, EnableThroughCheckIn as boolean, EstimatedArrivalTime as string, EstimatedDepartureTime as string, ExternalID as short, FlightDelays as string[], FlightNo as short, HasPassengerSecurityTransactions as boolean, HealthCheckRule as (CarrierCode as double, CreatedBy as string, CreatedTimestampUTC as string, DestinationAirport as string, DestinationCountryEntity as string, ID as string, Instructions as string, IsActive as boolean, IsClearToBoard as boolean, IsRequireProofForRemoteCheckIn as boolean, IsRequireRemarksForFailStatus as boolean, OriginAirport as string, OriginCountryEntity as string, UpdatedBy as string), ID as string, IsCancelled as boolean, IsOpenSeating as boolean, IsProgressiveFlight as boolean, MarketingCarrierCode as string, MarketingFlightNo as string, Message as string, OriginAirportCity as string, OriginAirportCountryCode as string, OriginAirportName as string, OriginIATA as string, OriginICAO as string, PassengerSecurityRules as (ApplicationRecipientID as string, BatchClearance as boolean, BatchDestinationAddress as boolean, BatchDestinationAddressCondition as boolean, BatchOrigDest as boolean, BatchPNR as boolean, BatchResidence as boolean, BatchSubmission as boolean, BatchTriggerHours as short, BatchValidation as boolean, CheckinClearance as boolean, CheckinDOB as boolean, CheckinDestinationAddress as boolean, CheckinDestinationAddressCondition as boolean, CheckinGender as boolean, CheckinNationality as boolean, CheckinOrigDest as boolean, CheckinPNR as boolean, CheckinResidence as boolean, CheckinTravelDoc as boolean, CommonAccessReference as string, CountryEntity as string, FlightAdd as boolean, FlightCancel as boolean, FlightChange as boolean, FlightPostDepartureCloseout as boolean, FlightPostDepartureCloseoutOnBoard as boolean, FlightPreDepartureCloseout as boolean, FlightRouting as short, FlightType as short, GatePass as boolean, HasFlightCloseoutRequirement as boolean, InteractiveComms as boolean, InterchangeRecipientID as string, OutageVettingStatus as boolean, PaxAdd as boolean, PaxCancel as boolean, PaxChange as boolean, PaxTransfer as boolean, PaxVerifiedID as boolean, RequireSecurityClearance as boolean, WatchlistVet as short)[], Passengers as string[], PaxBatchPreVetStatus as string, PaxFlightPostDepartureCloseOutStatus as string, PaxFlightPreDepartureCloseOutStatus as string, PnlImported as boolean, PostDepartureCloseOutCrewMemberMask as string, PostDepartureCloseOutPassengerMask as string, PreDepartureCloseOutCrewMemberMask as string, PreDepartureCloseOutPassengerMask as string, RemainingFuelLoad as boolean, ScheduledArrivalTime as string, ScheduledDepartureTime as string, ScheduledDepartureTimeUTC as timestamp, SegmentNo as boolean, Status as string, TailNo as string, TotalCargoLoad as boolean, TotalFuelLoad as boolean, Type as string, UpliftFuelLoad as boolean, UseAverageBagWeight as boolean, UseAveragePaxWeight as boolean, WeightUnitsKgs as boolean)[],\n\t\tSuccess as boolean\n\t),\n\tallowSchemaDrift: true,\n\tvalidateSchema: false,\n\tignoreNoFilesFound: false,\n\tdocumentForm: 'documentPerLine') ~> ActiveFlights\nSelect1 foldDown(unroll(Flights),\n\tmapColumn(\n\t\tAircraftCapacity = Flights.AircraftCapacity,\n\t\tAncillaryTemplateID = Flights.AncillaryTemplateID,\n\t\tArrivalGate = Flights.ArrivalGate,\n\t\tArrivalTerminal = Flights.ArrivalTerminal,\n\t\tBatchCrewMemberMask = Flights.BatchCrewMemberMask,\n\t\tBatchPassengerMask = Flights.BatchPassengerMask,\n\t\tBoardingTime = Flights.BoardingTime,\n\t\tBookedPassengersCount = Flights.BookedPassengersCount,\n\t\tCancelledBy = Flights.CancelledBy,\n\t\tCancelledReason = Flights.CancelledReason,\n\t\tCarrierCode = Flights.CarrierCode,\n\t\tCrewFlightPostDepartureCloseOutStatus = Flights.CrewFlightPostDepartureCloseOutStatus,\n\t\tCrewFlightPreDepartureCloseOutStatus = Flights.CrewFlightPreDepartureCloseOutStatus,\n\t\tApplicationRecipientID = Flights.CrewMemberSecurityRules.ApplicationRecipientID,\n\t\tCustomerID = Flights.CustomerID,\n\t\tDepartureGate = Flights.DepartureGate,\n\t\tDepartureTerminal = Flights.DepartureTerminal\n\t),\n\tskipDuplicateMapInputs: false,\n\tskipDuplicateMapOutputs: false) ~> Flatten1\nActiveFlights select(mapColumn(\n\t\tFlights\n\t),\n\tskipDuplicateMapInputs: true,\n\tskipDuplicateMapOutputs: true) ~> SelectJSON\nSelectJSON foldDown(unroll(Flights),\n\tmapColumn(\n\t\tFlights\n\t),\n\tskipDuplicateMapInputs: false,\n\tskipDuplicateMapOutputs: false) ~> Flatten2\nFlatten3 select(mapColumn(\n\t\tFlights\n\t),\n\tskipDuplicateMapInputs: true,\n\tskipDuplicateMapOutputs: true) ~> Select1\nFlatten2 foldDown(mapColumn(\n\t\tFlights\n\t),\n\tskipDuplicateMapInputs: false,\n\tskipDuplicateMapOutputs: false) ~> Flatten3"
		}
	}
}